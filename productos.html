<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Venta de CÃ©sped SintÃ©tico</title>
    <link rel="stylesheet" href="styles.css"> <!-- Agrega esta lÃ­nea -->
</head>
<body>

<header>
    <h1>Venta de CÃ©sped SintÃ©tico</h1>
    <nav>
        <a href="./index.html">Inicio</a>
        <a href="./productos.html">Productos</a>
        <a href="#">Servicios</a>
        <a href="#">Contacto</a>
    </nav>
    <button id="cart-btn" class="cart-btn" title="Ver carrito">
        ðŸ›’
</header>
<!-- Carrito como ventana modal -->
<div id="cart-modal" class="cart-modal">
    <div class="cart-modal-content">
        <span id="close-cart" class="close-cart">&times;</span>
        <h2>Carrito de compras</h2>
        <ul id="cart-items"></ul>
        <div id="cart-total"></div>
        <button id="checkout-btn" style="display:none;">Finalizar compra por WhatsApp</button>
    </div>
</div>
<section class="container">
   
    <!-- sintÃ©tico 10mm -->
    <div class="product 10mm" data-stock="10">
        <a href=".\10mm.html">
        <img src="https://acdn-us.mitiendanube.com/stores/001/601/723/products/1-e3449a983e8efb208317545787413541-1024-1024.png" onerror="this.src='https://images.unsplash.com/photo-1600080873574-66345017644a'" alt="CÃ©sped SintÃ©tico Verde ClÃ¡sico">
    </a>
    <div class="product-details">
        <h3>
            <a href=".\10mm.html">CÃ©sped sintÃ©tico 10mm â€“ Venta por cada 5mÂ²</a>
        </h3>
        <div class="price" data-price="43.393,80">43.393,80 $/mÂ²</div>
    
    </div>
    </div>
    <!-- sintÃ©tico 20mm bicolor -->
    <div class="product 20mm bicolor" data-stock="10">
    <a href=".\20mm_bicolor.html">
        <img src="https://acdn-us.mitiendanube.com/stores/001/601/723/products/7-d341d402f789781a7017545787093303-1024-1024.webp" onerror="this.src='https://images.unsplash.com/photo-1600080873574-66345017644a'" alt="CÃ©sped SintÃ©tico Verde ClÃ¡sico">
    </a>
    <div class="product-details">
        <h3>
            <a href=".\20mm_bicolor.html">CÃ©sped sintÃ©tico 20mm bicolor â€“ Venta por cada 5mÂ²</a>
        </h3>
        <div class="price" data-price="77.493,80">77.493,80 $/mÂ²</div>
       
    </div>
    </div>
     <!-- sintÃ©tico 30mm bicolor -->
    <div class="product 30mm bicolor" data-stock="10">
    <a href=".\30mm_bicolor.html">
        <img src="https://acdn-us.mitiendanube.com/stores/001/601/723/products/13-6f99c91174cf24a56d17545786406917-1024-1024.webp" onerror="this.src='https://images.unsplash.com/photo-1600080873574-66345017644a'" alt="CÃ©sped SintÃ©tico Verde ClÃ¡sico">
    </a>
    <div class="product-details">
        <h3>
            <a href=".\30mm_bicolor.html">CÃ©sped sintÃ©tico 30mm bicolor â€“ Venta por cada 5mÂ²</a>
        </h3>
        <div class="price" data-price="89.893,00">89.893,00 $/mÂ²</div>
       
    </div>
    </div>
    <!-- sintÃ©tico 40mm bicolor -->
    <div class="product 40mm bicolor" data-stock="10">
    <a href=".\40mm_bicolor.html">
        <img src="https://acdn-us.mitiendanube.com/stores/001/601/723/products/18-c305b33b753c665f2d17545785562534-1024-1024.webp" onerror="this.src='https://images.unsplash.com/photo-1600080873574-66345017644a'" alt="CÃ©sped SintÃ©tico Verde ClÃ¡sico">
    </a>
    <div class="product-details">
        <h3>
            <a href=".\40mm_bicolor.html">CÃ©sped sintÃ©tico 40mm bicolor â€“ Venta por cada 5mÂ²</a>
        </h3>
        <div class="price" data-price="111.538,00">111.538,00 $/mÂ²</div>
        
    </div>
    </div>
    <!-- sintÃ©tico 20mm tricolor -->
    <div class="product 20mm tricolor" data-stock="10">
    <a href=".\20mm_tricolor.html">
        <img src="https://acdn-us.mitiendanube.com/stores/001/601/723/products/7-d341d402f789781a7017545787093303-1024-1024.webp" onerror="this.src='https://images.unsplash.com/photo-1600080873574-66345017644a'" alt="CÃ©sped SintÃ©tico Verde ClÃ¡sico">
    </a>
    <div class="product-details">
        <h3>
            <a href=".\20mm_tricolor.html">CÃ©sped sintÃ©tico 20mm tricolor â€“ Venta por cada 5mÂ²</a>
        </h3>
        <div class="price" data-price="88.033,80">88.033,80 $/mÂ²</div>
       
    </div>
    </div>
     <!-- sintÃ©tico 30mm tricolor -->
    <div class="product 30mm tricolor" data-stock="10">
    <a href=".\30mm_tricolor.html">
        <img src="https://acdn-us.mitiendanube.com/stores/001/601/723/products/13-6f99c91174cf24a56d17545786406917-1024-1024.webp" onerror="this.src='https://images.unsplash.com/photo-1600080873574-66345017644a'" alt="CÃ©sped SintÃ©tico Verde ClÃ¡sico">
    </a>
    <div class="product-details">
        <h3>
            <a href=".\30mm_tricolor.html">CÃ©sped sintÃ©tico 30mm tricolor â€“ Venta por cada 5mÂ²</a>
        </h3>
        <div class="price" data-price="99.193,80">99.193,80 $/mÂ²</div>
        
    </div>
    </div>
       <!-- sintÃ©tico 40mm tricolor -->
    <div class="product 40mm tricolor" data-stock="10">
    <a href=".\40mm_tricolor.html">
        <img src="https://acdn-us.mitiendanube.com/stores/001/601/723/products/39-356a872afc01d680e617559267739369-1024-1024.png" onerror="this.src='https://images.unsplash.com/photo-1600080873574-66345017644a'" alt="CÃ©sped SintÃ©tico Verde ClÃ¡sico">
    </a>
    <div class="product-details">
        <h3>
            <a href=".\40mm_tricolor.html">CÃ©sped sintÃ©tico 40mm tricolor â€“ Venta por cada 5mÂ²</a>
        </h3>
        <div class="price" data-price="115.933,80">115.933,80 $/mÂ²</div>
    
    </div>
    </div>
</section>

<footer>
    <p>&copy; 2024 Venta de CÃ©sped SintÃ©tico. Todos los derechos reservados.</p>
</footer>

<script>
document.addEventListener('DOMContentLoaded', () => {
    const container = document.querySelector('.container');
    const products = Array.from(container.querySelectorAll('.product'));

    // Ordena: primero los que tienen stock (>0), luego los que no (0)
    products.sort((a, b) => {
        const stockA = parseInt(a.dataset.stock || '0', 10);
        const stockB = parseInt(b.dataset.stock || '0', 10);
        // Si ambos tienen stock o ambos no tienen, no cambia el orden
        if ((stockA > 0 && stockB > 0) || (stockA === 0 && stockB === 0)) return 0;
        // Si a tiene stock y b no, a va antes
        if (stockA > 0 && stockB === 0) return -1;
        // Si a no tiene stock y b sÃ­, a va despuÃ©s
        if (stockA === 0 && stockB > 0) return 1;
        return 0;
    });

    // Limpia y re-agrega los productos ordenados
    container.innerHTML = '';
    products.forEach(product => container.appendChild(product));
});
</script>



<script>
    const whatsappBtn = document.getElementById('whatsapp-btn');
    const products = [];

    document.querySelectorAll('.product-sizes .add-to-cart').forEach(button => {
        button.addEventListener('click', () => {
            const product = button.closest('.product');
            const title = product.querySelector('h3').innerText;
            const price = product.querySelector('.price').dataset.price;
            const size = button.dataset.size;

            products.push({ title, price, size });

            if (products.length === 1) {
                whatsappBtn.style.display = 'flex';
            }
        });
    });

    whatsappBtn.addEventListener('click', () => {
        let message = "Hola, me gustarÃ­a hacer un pedido de los siguientes productos:\n\n";
        let total = 0;

        products.forEach(product => {
            message += `- ${product.title} (${product.size}mÂ²) (${product.price}$/mÂ²)\n`;
            total += parseFloat(product.price.replace('.', '').replace(',', '.')) * parseInt(product.size, 10);
        });

        message += `\nTotal estimado: ${total.toLocaleString('es-AR', { style: 'currency', currency: 'ARS' })}\n\n`;
        message += "Por favor, ayÃºdenme a finalizar mi compra.";

        const whatsappURL = `https://wa.me/+5493512505333?text=${encodeURIComponent(message)}`;
        window.open(whatsappURL, '_blank');
    });

    <button id="whatsapp-btn" style="display: none;">
    <svg viewBox="0 0 24 24" width="24" height="24">
        <path d="M12.04 2C7.38 2 3.5 5.8 3.5 10.42c0 1.98.66 3.82 1.8 5.3L3 21.5l6.09-1.68c1.37.75 2.92 1.15 4.45 1.15 4.66 0 8.54-3.8 8.54-8.42S16.7 2 12.04 2zM12.04 19.86c-1.28 0-2.5-.35-3.55-.96l-.25-.15-2.58.68.69-2.56-.17-.26c-.63-1.07-.96-2.3-.96-3.59 0-3.9 3.1-7.07 7.07-7.07s7.07 3.17 7.07 7.07c0 3.9-3.17 7.07-7.07 7.07zm3.17-5.96c-.18-.09-1.07-.53-1.24-.6s-.29-.09-.42.09c-.13.18-.5.6-.61.73-.13.12-.25.14-.46.07-.2-.07-.86-.31-1.64-1.01-.6-.53-1.01-1.2-1.13-1.42-.12-.22-.01-.2-.09-.2-.07-.07-.18-.09-.29-.09h-.13c-.11-.01-.23.05-.33.15-.09.1-.34.33-.48.48-.15.15-.31.18-.42.09-.12-.09-.49-.18-1.01-.29-.53-.12-1.01-.06-1.1.08-.09.15-.09.29 0 .44s.48.56.56.67c.08.1.18.15.29.28.11.12.78 1.19 1.88 1.63.1.04.18.06.28.06s.2-.01.27-.04c.08-.04.28-.12.38-.19.1-.07.6-.28.68-.42.07-.13.07-.25.04-.32z"/>
    </svg>
</button>
</script>

<!-- Carrito de compras -->
<script>
let cart = JSON.parse(localStorage.getItem('cart')) || [];
const cartItems = document.getElementById('cart-items');
const cartTotal = document.getElementById('cart-total');
const checkoutBtn = document.getElementById('checkout-btn');

const cartBtn = document.getElementById('cart-btn');
const cartModal = document.getElementById('cart-modal');
const closeCart = document.getElementById('close-cart');

cartBtn.addEventListener('click', () => {
    cartModal.style.display = 'block';
    updateCart();
});
closeCart.addEventListener('click', () => {
    cartModal.style.display = 'none';
});
window.addEventListener('click', (e) => {
    if (e.target === cartModal) cartModal.style.display = 'none';
});

function updateCart() {
    cartItems.innerHTML = '';
    let total = 0;
    cart.forEach((item, idx) => {
        const subtotal = item.priceNum * item.size;
        const li = document.createElement('li');
        li.textContent = `${item.title} - ${item.size}mÂ² - ${item.price} $/mÂ² - Subtotal: ${subtotal.toLocaleString('es-AR', { style: 'currency', currency: 'ARS' })}`;
        const removeBtn = document.createElement('button');
        removeBtn.textContent = 'Quitar';
        removeBtn.onclick = () => {
            cart.splice(idx, 1);
            updateCart();
        };
        li.appendChild(removeBtn);
        cartItems.appendChild(li);
        total += subtotal;
    });
    cartTotal.textContent = `Total estimado: ${total.toLocaleString('es-AR', { style: 'currency', currency: 'ARS' })}`;
    checkoutBtn.style.display = cart.length ? 'block' : 'none';
    localStorage.setItem('cart', JSON.stringify(cart));
}

document.addEventListener('DOMContentLoaded', () => {
    document.querySelectorAll('.product-sizes .add-to-cart').forEach(button => {
        button.addEventListener('click', () => {
            const product = button.closest('.product');
            const title = product.querySelector('h3').innerText;
            const priceStr = product.querySelector('.price').dataset.price;
            const priceNum = parseFloat(priceStr.replace('.', '').replace(',', '.'));
            const size = parseInt(button.dataset.size, 10);

            cart.push({ title, price: priceStr, priceNum, size });
            updateCart();
        });
    });
    updateCart();
});

checkoutBtn.addEventListener('click', () => {
    let message = "Hola, me gustarÃ­a hacer un pedido de los siguientes productos:\n\n";
    let total = 0;
    cart.forEach(item => {
        const subtotal = item.priceNum * item.size;
        message += `- ${item.title} (${item.size}mÂ²) (${item.price}$/mÂ²) - Subtotal: ${subtotal.toLocaleString('es-AR', { style: 'currency', currency: 'ARS' })}\n`;
        total += subtotal;
    });
    message += `\nTotal estimado: ${total.toLocaleString('es-AR', { style: 'currency', currency: 'ARS' })}\n\n`;
    message += "Por favor, ayÃºdenme a finalizar mi compra.";
    const whatsappURL = `https://wa.me/+5493512505333?text=${encodeURIComponent(message)}`;
    window.open(whatsappURL, '_blank');
});
</script>

</body>
</html>
